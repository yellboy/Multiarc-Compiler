<architecture>
	<name>Test1</name>
	<memory>
		<size>65536</size>
		<au>1</au>
	</memory>
	<data>
		<w>16</w>
	</data>
	<registers>
		<pc>
			<size>16</size>
			<name>PC</name>
		</pc>
		<a>
			<size>16</size>
			<name>A</name>
		</a>
		<general_purpose>
			<number>32</number>
			<size>16</size>
			<prefix>R</prefix>
			<name>gen_r</name>
		</general_purpose>
		<psw>
			<size>1</size>
			<name>PSW</name>
		</psw>
		<sp>
			<size>2</size>
			<name>SP</name>
		</sp>
	</registers>
	<instruction_mnemonics>
		<name>LD</name>
		<name>BZ</name>
	</instruction_mnemonics>
	<user_tokens>
		<token1>+(</token1>
		<token2>)-</token2>
	</user_tokens>
	<addressing_modes>
		<regdir>
			<name>regdir</name>
			<file>regdir.cs</file>
			<result>w</result>
			<expression>
				<registers_group>gen_r</registers_group>
			</expression>
			<operand>read_from_expression</operand>
			<operand_type>absolute</operand_type>
		</regdir>
		<regind>
			<name>regind</name>
			<file>regind.cs</file>
			<result>w</result>
			<expression>
				"(" <registers_group>gen_r</registers_group> ")"
			</expression>
			<operand>read_from_expression</operand>
			<operand_type>absolute</operand_type>
		</regind>
		<postdecr>
			<name>postdecr</name>
			<file>postdecr.cs</file>
			<result>w</result>
			<expression>
				"(" <registers_group>gen_r</registers_group> ")-" 
			</expression>
			<operand>read_from_expression</operand>
			<operand_type>absolute</operand_type>
		</postdecr>
		<preincr>
			<name>preincr</name>
			<file>preincr.cs</file>
			<result>w</result>
			<expression>
				"+(" <registers_group>gen_r</registers_group> ")" 
			</expression>
			<operand>read_from_expression</operand>
			<operand_type>absolute</operand_type>
		</preincr>		
		<memdir>
			<name>memdir</name>
			<file>memdir.cs</file>
			<result>w</result>
			<expression>IDENTIFIER</expression>
			<expression>DEC_NUMBER</expression>
			<operand>read_from_expression</operand>
			<operand_type>absolute</operand_type>
		</memdir>		
		<memind>
			<name>memind</name>
			<file>memind.cs</file>
			<result>w</result>
			<expression>"("IDENTIFIER")"</expression>
			<expression>"("DEC_NUMBER")"</expression>
			<operand>read_from_expression</operand>
			<operand_type>absolute</operand_type>
		</memind>
		<regindpom>
			<name>regindpom</name>
			<file>regindpom.cs</file>
			<result>w</result>
			<expression>"("<registers_group>gen_r</registers_group>")"DEC_NUMBER</expression>
			<operand>read_from_expression</operand>
			<operand_type>absolute</operand_type>
		</regindpom>
		<immed>
			<name>immed</name>
			<file>immed.cs</file>
			<result>w</result>
			<expression>"#"IDENTIFIER</expression>
			<expression>"#" [SIGN] DEC_NUMBER</expression>
			<operand>read_from_expression</operand>
			<operand_type>absolute</operand_type>
		</immed>
		<disp>
			<name>disp</name>
			<file>disp.cs</file>
			<result>w</result>
			<expression>DEC_NUMBER</expression>
			<operand>read_from_expression</operand>
			<operand_type>absolute</operand_type>
		</disp>
	</addressing_modes>
	<instructions>
		<ld1>
			<mnemonic>LD</mnemonic>
			<size>2</size>
			<file>ld.cs</file>
			<opcode>
				<start_bit>15</start_bit>
				<end_bit>7</end_bit>
				<value>110000000</value>
			</opcode>
			<arguments>
				<arg>
					<type>src</type>
					<addressing_mode>
						<name>regdir</name>
						<opcode>
							<start_bit>6</start_bit>
							<end_bit>5</end_bit>
							<value>00</value>
						</opcode>
						<operand>
							<start_bit>4</start_bit>
							<end_bit>0</end_bit>
						</operand>
					</addressing_mode>
					<addressing_mode>
						<name>regind</name>
						<opcode>
							<start_bit>6</start_bit>
							<end_bit>5</end_bit>
							<value>01</value>
						</opcode>
						<operand>
							<start_bit>4</start_bit>
							<end_bit>0</end_bit>
						</operand>
					</addressing_mode>
					<addressing_mode>
						<name>postdecr</name>
						<opcode>
							<start_bit>6</start_bit>
							<end_bit>5</end_bit>
							<value>10</value>
						</opcode>
						<operand>
							<start_bit>4</start_bit>
							<end_bit>0</end_bit>
						</operand>
					</addressing_mode>
					<addressing_mode>
						<name>preincr</name>
						<opcode>
							<start_bit>6</start_bit>
							<end_bit>5</end_bit>
							<value>11</value>
						</opcode>
						<operand>
							<start_bit>4</start_bit>
							<end_bit>0</end_bit>
						</operand>
					</addressing_mode>
				</arg>
			</arguments>
		</ld1>
		<ld2>
			<mnemonic>LD</mnemonic>
			<size>4</size>
			<file>ld.cs</file>
			<opcode>
				<start_bit>31</start_bit>
				<end_bit>22</end_bit>
				<value>1100000010</value>
			</opcode>
			<arguments>
				<arg>
					<type>src</type>
					<addressing_mode>
						<name>memdir</name>
						<opcode>
							<start_bit>21</start_bit>
							<end_bit>21</end_bit>
							<value>0</value>
						</opcode>
						<operand>
							<start_bit>15</start_bit>
							<end_bit>0</end_bit>
						</operand>
					</addressing_mode>
					<addressing_mode>
						<name>memind</name>
						<opcode>
							<start_bit>21</start_bit>
							<end_bit>21</end_bit>
							<value>1</value>
						</opcode>
						<operand>
							<start_bit>15</start_bit>
							<end_bit>0</end_bit>
						</operand>
					</addressing_mode>
				</arg>
			</arguments>
		</ld2>
		<ld3>
			<mnemonic>LD</mnemonic>
			<size>3</size>
			<file>ld.cs</file>
			<opcode>
				<start_bit>23</start_bit>
				<end_bit>13</end_bit>
				<value>11000000110</value>
			</opcode>
			<arguments>
				<arg>
					<type>src</type>
					<addressing_mode>
						<name>regindpom</name>
						<operand>
							<start_bit>12</start_bit>
							<end_bit>0</end_bit>
						</operand>
					</addressing_mode>
				</arg>
			</arguments>
		</ld3>
		<ld4>
			<mnemonic>LD</mnemonic>
			<size>4</size>
			<file>ld.cs</file>
			<opcode>
				<start_bit>31</start_bit>
				<end_bit>21</end_bit>
				<value>11000000111</value>
			</opcode>
			<arguments>
				<arg>
					<type>src</type>
					<addressing_mode>
						<name>immed</name>
						<operand>
							<start_bit>15</start_bit>
							<end_bit>0</end_bit>
						</operand>
					</addressing_mode>
				</arg>
			</arguments>
		</ld4>
		<bz1>
			<mnemonic>BZ</mnemonic>
			<file>bz.cs</file>
			<size>2</size>
			<opcode>
				<start_bit>15</start_bit>
				<end_bit>8</end_bit>
				<value>00000000</value>
			</opcode>
			<arguments>
				<arg>
					<type>src</type>
					<addressing_mode>
						<name>disp</name>
						<operand>
							<start_bit>7</start_bit>
							<end_bit>0</end_bit>
						</operand>
					</addressing_mode>
				</arg>
			</arguments>
		</bz1>
	</instructions>
</architecture>